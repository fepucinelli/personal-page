import{_ as V}from"./D-MLLEHc.js";import{u as T}from"./UunnlMe7.js";import{f as z}from"./CPNtIh0e.js";import{d as v,f as a,o as p,c as _,a as n,n as w,t as b,y as B,h as P,m as C,l as y,j as L,k as u,T as j,x as I,q as M,g as d,i as g,z as D}from"./LI4wfdSp.js";import{u as E}from"./D2tToxIk.js";import"./DhLKEqmR.js";const q={key:0,class:"fixed bottom-0 inset-x-0 z-50 h-[72px] px-6 gap-5 flex items-center backdrop-blur-xl bg-white/90 dark:bg-night-surface/90 border-t border-ink/5 dark:border-white/5"},O={class:"flex-1 min-w-0"},R=["title"],A={class:"text-xs text-ink-muted dark:text-neutral-500 tracking-wide uppercase mt-0.5"},F={class:"hidden sm:flex items-center gap-3 flex-shrink-0"},G=["value"],H=v({__name:"PlayerBar",setup(r){const t=T(),i=()=>{t.toggle()},l=e=>{t.setVolume(Number(e.target.value))},c=C(()=>t.volume*100);let o=!1;return t.onError(async()=>{if(!o){o=!0;try{const e=Math.floor(Math.random()*500),m=(await z({offset:e,limit:10})).find(x=>{var f;return x.id!==((f=t.currentStation)==null?void 0:f.id)});m&&await t.play(m)}finally{o=!1}}}),(e,s)=>a(t).currentStation?(p(),_("div",q,[n("button",{onClick:i,class:w(["flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300",{"bg-brand/10 text-brand animate-pulse-glow":a(t).isPlaying,"bg-ink/5 dark:bg-white/5 text-ink-secondary dark:text-neutral-400 hover:bg-brand/10 hover:text-brand":!a(t).isPlaying}])},[n("i",{class:w(["pi text-lg",{"pi-spin pi-spinner text-ink-muted dark:text-neutral-500":a(t).isLoading,"pi-pause":!a(t).isLoading&&a(t).isPlaying,"pi-play":!a(t).isLoading&&!a(t).isPlaying}])},null,2)],2),n("div",O,[n("div",{class:"font-medium text-sm truncate text-ink dark:text-neutral-100",title:a(t).currentStation.name},b(a(t).currentStation.name),9,R),n("div",A,b(a(t).currentStation.country),1)]),n("div",F,[s[0]||(s[0]=n("i",{class:"pi pi-volume-down text-xs text-ink-muted dark:text-neutral-500"},null,-1)),n("input",{type:"range",min:"0",max:"1",step:"0.01",class:"range-slider w-24",value:a(t).volume,onInput:l,style:B({background:`linear-gradient(
            to right,
            #c493ff ${a(c)}%,
            rgba(58, 53, 48, 0.2) ${a(c)}%
          )`})},null,44,G),s[1]||(s[1]=n("i",{class:"pi pi-volume-up text-xs text-ink-muted dark:text-neutral-500"},null,-1))])])):P("",!0)}}),S=y(""),k=y(!1);let h=null;function N(){function r(t,i=3e3){h&&clearTimeout(h),S.value=t,k.value=!0,h=setTimeout(()=>{k.value=!1},i)}return{message:S,visible:k,show:r}}const J={key:0,class:"fixed bottom-20 left-0 right-0 z-[55] flex justify-center pointer-events-none"},K={class:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full backdrop-blur-xl bg-surface-light/90 dark:bg-night/90 border border-brand/20 shadow-lg shadow-brand/10 text-sm text-ink dark:text-neutral-200"},Q=v({__name:"Toast",setup(r){const t=N();return(i,l)=>(p(),L(j,{name:"toast"},{default:u(()=>[a(t).visible.value?(p(),_("div",J,[n("div",K,[l[0]||(l[0]=n("i",{class:"pi pi-volume-up text-brand text-xs"},null,-1)),n("span",null,b(a(t).message.value),1)])])):P("",!0)]),_:1}))}});function U(){const r=localStorage.getItem("theme");return r||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}function $(r){document.documentElement.classList.toggle("dark",r==="dark")}const W=I("theme",()=>{const r=y(U());$(r.value);function t(){r.value=r.value==="dark"?"light":"dark",localStorage.setItem("theme",r.value),$(r.value)}return{theme:r,toggle:t}}),X={class:"min-h-screen flex flex-col"},Y={class:"fixed top-0 left-0 right-0 z-50 h-14 px-6 flex items-center justify-between backdrop-blur-xl bg-surface-light/80 dark:bg-night/80 border-b border-ink/5 dark:border-white/5"},Z={class:"flex items-center gap-1"},tt={class:"flex-1 pt-14 pb-24"},it=v({__name:"default",setup(r){const t=W(),i=T(),l=E(),c=N();return M(()=>i.currentStation,(o,e)=>{o&&(l.addStation(o),e&&c.show(`Now playing: ${o.name}`))}),(o,e)=>{const s=V,m=H,x=Q;return p(),_("div",X,[n("header",Y,[d(s,{to:"/",class:"font-display text-xl italic text-ink dark:text-neutral-100 hover:text-brand transition-colors"},{default:u(()=>[...e[1]||(e[1]=[g(" fp ",-1)])]),_:1}),n("nav",Z,[d(s,{to:"/countries",class:"px-3 py-1.5 text-sm text-ink-secondary dark:text-neutral-400 hover:text-ink dark:hover:text-neutral-100 rounded-lg hover:bg-ink/5 dark:hover:bg-white/5 transition-all duration-200"},{default:u(()=>[...e[2]||(e[2]=[g(" countries ",-1)])]),_:1}),d(s,{to:"/genres",class:"px-3 py-1.5 text-sm text-ink-secondary dark:text-neutral-400 hover:text-ink dark:hover:text-neutral-100 rounded-lg hover:bg-ink/5 dark:hover:bg-white/5 transition-all duration-200"},{default:u(()=>[...e[3]||(e[3]=[g(" genres ",-1)])]),_:1}),d(s,{to:"/favorites",class:"ml-1 p-2 rounded-lg text-ink-secondary dark:text-neutral-400 hover:text-brand hover:bg-brand/5 transition-all duration-200"},{default:u(()=>[...e[4]||(e[4]=[n("i",{class:"pi pi-bookmark-fill text-sm"},null,-1)])]),_:1}),n("button",{onClick:e[0]||(e[0]=f=>a(t).toggle()),class:"p-2 rounded-lg text-ink-secondary dark:text-neutral-400 hover:text-brand hover:bg-brand/5 transition-all duration-200"},[...e[5]||(e[5]=[n("i",{class:"pi pi-moon text-sm"},null,-1)])])])]),n("main",tt,[D(o.$slots,"default")]),d(m),d(x)])}}});export{it as default};
