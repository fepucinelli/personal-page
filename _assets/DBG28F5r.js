import{_ as z}from"./1AKrSCnL.js";import{a as C,u as B,b as F}from"./Canp5EVe.js";import{f as L}from"./FWgaq4WY.js";import{d as w,g as e,o as x,c as g,b as r,n as b,t as y,i as _,y as j,q as I,m as S,k as M,l as m,T as A,z as D,s as E,h as d,j as f,A as R}from"./DTj-dskd.js";import{u as q}from"./9BYJ2YF8.js";import"./CchD36gI.js";const O={key:0,class:"fixed bottom-0 inset-x-0 z-50 h-[72px] px-6 gap-5 flex items-center backdrop-blur-xl bg-white/90 dark:bg-night-surface/90 border-t border-ink/5 dark:border-white/5"},G={class:"flex-1 min-w-0"},H=["title"],J={class:"text-xs text-ink-muted dark:text-neutral-500 tracking-wide uppercase mt-0.5"},K=["title"],Q={class:"hidden sm:flex items-center gap-3 flex-shrink-0"},U=["value"],W=w({__name:"PlayerBar",setup(a){const t=C(),u=B(),i=F(),k=()=>{t.toggle()},l=c=>{t.setVolume(Number(c.target.value))},n=I(()=>t.volume*100);let s=!1;return t.onError(async()=>{if(!s){s=!0;try{const c=Math.floor(Math.random()*500),p=(await L({offset:c,limit:10})).find(V=>{var $;return V.id!==(($=t.currentStation)==null?void 0:$.id)});p&&await t.play(p)}finally{s=!1}}}),(c,o)=>e(t).currentStation?(x(),g("div",O,[r("button",{onClick:k,class:b(["flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300",{"bg-brand/10 text-brand animate-pulse-glow":e(t).isPlaying,"bg-ink/5 dark:bg-white/5 text-ink-secondary dark:text-neutral-400 hover:bg-brand/10 hover:text-brand":!e(t).isPlaying}])},[r("i",{class:b(["pi text-lg",{"pi-spin pi-spinner text-ink-muted dark:text-neutral-500":e(t).isLoading,"pi-pause":!e(t).isLoading&&e(t).isPlaying,"pi-play":!e(t).isLoading&&!e(t).isPlaying}])},null,2)],2),r("div",G,[r("div",{class:"font-medium text-sm truncate text-ink dark:text-neutral-100",title:e(t).currentStation.name},y(e(t).currentStation.name),9,H),r("div",J,y(e(t).currentStation.country),1)]),e(u).isSystemFavorite(e(t).currentStation.id)?_("",!0):(x(),g("button",{key:0,onClick:o[0]||(o[0]=p=>e(i).toggleFavorite(e(t).currentStation)),class:"flex-shrink-0 p-2 rounded-full text-ink-secondary dark:text-neutral-400 hover:text-brand hover:bg-brand/5 transition-all duration-200",title:e(i).isFavorite(e(t).currentStation)?"Remove from favorites":"Add to favorites"},[r("i",{class:b(["pi text-sm",e(i).isFavorite(e(t).currentStation)?"pi-star-fill text-brand":"pi-star"])},null,2)],8,K)),r("div",Q,[o[1]||(o[1]=r("i",{class:"pi pi-volume-down text-xs text-ink-muted dark:text-neutral-500"},null,-1)),r("input",{type:"range",min:"0",max:"1",step:"0.01",class:"range-slider w-24",value:e(t).volume,onInput:l,style:j({background:`linear-gradient(
            to right,
            #c493ff ${e(n)}%,
            rgba(58, 53, 48, 0.2) ${e(n)}%
          )`})},null,44,U),o[2]||(o[2]=r("i",{class:"pi pi-volume-up text-xs text-ink-muted dark:text-neutral-500"},null,-1))])])):_("",!0)}}),T=S(""),v=S(!1);let h=null;function N(){function a(t,u=3e3){h&&clearTimeout(h),T.value=t,v.value=!0,h=setTimeout(()=>{v.value=!1},u)}return{message:T,visible:v,show:a}}const X={key:0,class:"fixed bottom-20 left-0 right-0 z-[55] flex justify-center pointer-events-none"},Y={class:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full backdrop-blur-xl bg-surface-light/90 dark:bg-night/90 border border-brand/20 shadow-lg shadow-brand/10 text-sm text-ink dark:text-neutral-200"},Z=w({__name:"Toast",setup(a){const t=N();return(u,i)=>(x(),M(A,{name:"toast"},{default:m(()=>[e(t).visible.value?(x(),g("div",X,[r("div",Y,[i[0]||(i[0]=r("i",{class:"pi pi-volume-up text-brand text-xs"},null,-1)),r("span",null,y(e(t).message.value),1)])])):_("",!0)]),_:1}))}});function tt(){const a=localStorage.getItem("theme");return a||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}function P(a){document.documentElement.classList.toggle("dark",a==="dark")}const et=D("theme",()=>{const a=S(tt());P(a.value);function t(){a.value=a.value==="dark"?"light":"dark",localStorage.setItem("theme",a.value),P(a.value)}return{theme:a,toggle:t}}),nt={class:"min-h-screen flex flex-col"},rt={class:"fixed top-0 left-0 right-0 z-50 h-14 px-6 flex items-center justify-between backdrop-blur-xl bg-surface-light/80 dark:bg-night/80 border-b border-ink/5 dark:border-white/5"},at={class:"flex items-center gap-1"},st={class:"flex-1 pt-14 pb-24"},mt=w({__name:"default",setup(a){const t=et(),u=C(),i=q(),k=N();return E(()=>u.currentStation,(l,n)=>{l&&(i.addStation(l),n&&k.show(`Now playing: ${l.name}`))}),(l,n)=>{const s=z,c=W,o=Z;return x(),g("div",nt,[r("header",rt,[d(s,{to:"/",class:"font-display text-xl italic text-ink dark:text-neutral-100 hover:text-brand transition-colors"},{default:m(()=>[...n[1]||(n[1]=[f(" fp ",-1)])]),_:1}),r("nav",at,[d(s,{to:"/countries",class:"px-3 py-1.5 text-sm text-ink-secondary dark:text-neutral-400 hover:text-ink dark:hover:text-neutral-100 rounded-lg hover:bg-ink/5 dark:hover:bg-white/5 transition-all duration-200"},{default:m(()=>[...n[2]||(n[2]=[f(" countries ",-1)])]),_:1}),d(s,{to:"/genres",class:"px-3 py-1.5 text-sm text-ink-secondary dark:text-neutral-400 hover:text-ink dark:hover:text-neutral-100 rounded-lg hover:bg-ink/5 dark:hover:bg-white/5 transition-all duration-200"},{default:m(()=>[...n[3]||(n[3]=[f(" genres ",-1)])]),_:1}),d(s,{to:"/about",class:"px-3 py-1.5 text-sm text-ink-secondary dark:text-neutral-400 hover:text-ink dark:hover:text-neutral-100 rounded-lg hover:bg-ink/5 dark:hover:bg-white/5 transition-all duration-200"},{default:m(()=>[...n[4]||(n[4]=[f(" about ",-1)])]),_:1}),d(s,{to:"/favorites",class:"ml-1 p-2 rounded-lg text-ink-secondary dark:text-neutral-400 hover:text-brand hover:bg-brand/5 transition-all duration-200"},{default:m(()=>[...n[5]||(n[5]=[r("i",{class:"pi pi-bookmark-fill text-sm"},null,-1)])]),_:1}),r("button",{onClick:n[0]||(n[0]=p=>e(t).toggle()),class:"p-2 rounded-lg text-ink-secondary dark:text-neutral-400 hover:text-brand hover:bg-brand/5 transition-all duration-200"},[...n[6]||(n[6]=[r("i",{class:"pi pi-moon text-sm"},null,-1)])])])]),r("main",st,[R(l.$slots,"default")]),d(c),d(o)])}}});export{mt as default};
