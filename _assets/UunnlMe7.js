import{x as m,l as u}from"./LI4wfdSp.js";const L=m("player",()=>{const i=u(null),t=u(!1),l=u(!1),r=u(1),s=u(null);let e=null,n=null;function f(a){n=a}function c(){e||(e=new Audio,e.crossOrigin="anonymous",e.preload="none",e.volume=r.value,e.addEventListener("playing",()=>{t.value=!0,l.value=!1}),e.addEventListener("pause",()=>{t.value=!1}),e.addEventListener("waiting",()=>{l.value=!0}),e.addEventListener("canplay",()=>{l.value=!1}),e.addEventListener("error",()=>{s.value="Station unavailable",l.value=!1,t.value=!1,n==null||n()}))}async function d(a){var v;if(c(),((v=i.value)==null?void 0:v.id)===a.id){o();return}i.value=a,l.value=!0,s.value=null,e.src=a.streamUrl;try{await e.play()}catch{s.value="Unable to play station",l.value=!1,n==null||n()}}function o(){e&&(e.paused?e.play():e.pause())}function p(){e&&e.pause()}function y(a){r.value=a,e&&(e.volume=a)}return{currentStation:i,isPlaying:t,isLoading:l,volume:r,error:s,play:d,toggle:o,pause:p,setVolume:y,onError:f}});export{L as u};
