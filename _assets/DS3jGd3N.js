import{_ as V}from"./DFQ57wui.js";import{a as P,b as z}from"./D53x7eEM.js";import{f as B}from"./Dmo1TwP2.js";import{d as v,f as e,o as x,c as _,a as n,n as f,t as h,x as L,h as C,m as j,l as y,j as I,k as m,T as M,y as D,q as E,g as u,i as g,z as F}from"./C67BMc7s.js";import{u as A}from"./DvXerMfh.js";import"./qBxuOEDE.js";const R={key:0,class:"fixed bottom-0 inset-x-0 z-50 h-[72px] px-6 gap-5 flex items-center backdrop-blur-xl bg-white/90 dark:bg-night-surface/90 border-t border-ink/5 dark:border-white/5"},q={class:"flex-1 min-w-0"},O=["title"],G={class:"text-xs text-ink-muted dark:text-neutral-500 tracking-wide uppercase mt-0.5"},H=["title"],J={class:"hidden sm:flex items-center gap-3 flex-shrink-0"},K=["value"],Q=v({__name:"PlayerBar",setup(a){const t=P(),i=z(),d=()=>{t.toggle()},p=s=>{t.setVolume(Number(s.target.value))},l=j(()=>t.volume*100);let r=!1;return t.onError(async()=>{if(!r){r=!0;try{const s=Math.floor(Math.random()*500),c=(await B({offset:s,limit:10})).find(w=>{var S;return w.id!==((S=t.currentStation)==null?void 0:S.id)});c&&await t.play(c)}finally{r=!1}}}),(s,o)=>e(t).currentStation?(x(),_("div",R,[n("button",{onClick:d,class:f(["flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300",{"bg-brand/10 text-brand animate-pulse-glow":e(t).isPlaying,"bg-ink/5 dark:bg-white/5 text-ink-secondary dark:text-neutral-400 hover:bg-brand/10 hover:text-brand":!e(t).isPlaying}])},[n("i",{class:f(["pi text-lg",{"pi-spin pi-spinner text-ink-muted dark:text-neutral-500":e(t).isLoading,"pi-pause":!e(t).isLoading&&e(t).isPlaying,"pi-play":!e(t).isLoading&&!e(t).isPlaying}])},null,2)],2),n("div",q,[n("div",{class:"font-medium text-sm truncate text-ink dark:text-neutral-100",title:e(t).currentStation.name},h(e(t).currentStation.name),9,O),n("div",G,h(e(t).currentStation.country),1)]),n("button",{onClick:o[0]||(o[0]=c=>e(i).toggleFavorite(e(t).currentStation)),class:"flex-shrink-0 p-2 rounded-full text-ink-secondary dark:text-neutral-400 hover:text-brand hover:bg-brand/5 transition-all duration-200",title:e(i).isFavorite(e(t).currentStation)?"Remove from favorites":"Add to favorites"},[n("i",{class:f(["pi text-sm",e(i).isFavorite(e(t).currentStation)?"pi-star-fill text-brand":"pi-star"])},null,2)],8,H),n("div",J,[o[1]||(o[1]=n("i",{class:"pi pi-volume-down text-xs text-ink-muted dark:text-neutral-500"},null,-1)),n("input",{type:"range",min:"0",max:"1",step:"0.01",class:"range-slider w-24",value:e(t).volume,onInput:p,style:L({background:`linear-gradient(
            to right,
            #c493ff ${e(l)}%,
            rgba(58, 53, 48, 0.2) ${e(l)}%
          )`})},null,44,K),o[2]||(o[2]=n("i",{class:"pi pi-volume-up text-xs text-ink-muted dark:text-neutral-500"},null,-1))])])):C("",!0)}}),$=y(""),k=y(!1);let b=null;function N(){function a(t,i=3e3){b&&clearTimeout(b),$.value=t,k.value=!0,b=setTimeout(()=>{k.value=!1},i)}return{message:$,visible:k,show:a}}const U={key:0,class:"fixed bottom-20 left-0 right-0 z-[55] flex justify-center pointer-events-none"},W={class:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full backdrop-blur-xl bg-surface-light/90 dark:bg-night/90 border border-brand/20 shadow-lg shadow-brand/10 text-sm text-ink dark:text-neutral-200"},X=v({__name:"Toast",setup(a){const t=N();return(i,d)=>(x(),I(M,{name:"toast"},{default:m(()=>[e(t).visible.value?(x(),_("div",U,[n("div",W,[d[0]||(d[0]=n("i",{class:"pi pi-volume-up text-brand text-xs"},null,-1)),n("span",null,h(e(t).message.value),1)])])):C("",!0)]),_:1}))}});function Y(){const a=localStorage.getItem("theme");return a||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}function T(a){document.documentElement.classList.toggle("dark",a==="dark")}const Z=D("theme",()=>{const a=y(Y());T(a.value);function t(){a.value=a.value==="dark"?"light":"dark",localStorage.setItem("theme",a.value),T(a.value)}return{theme:a,toggle:t}}),tt={class:"min-h-screen flex flex-col"},et={class:"fixed top-0 left-0 right-0 z-50 h-14 px-6 flex items-center justify-between backdrop-blur-xl bg-surface-light/80 dark:bg-night/80 border-b border-ink/5 dark:border-white/5"},nt={class:"flex items-center gap-1"},rt={class:"flex-1 pt-14 pb-24"},ut=v({__name:"default",setup(a){const t=Z(),i=P(),d=A(),p=N();return E(()=>i.currentStation,(l,r)=>{l&&(d.addStation(l),r&&p.show(`Now playing: ${l.name}`))}),(l,r)=>{const s=V,o=Q,c=X;return x(),_("div",tt,[n("header",et,[u(s,{to:"/",class:"font-display text-xl italic text-ink dark:text-neutral-100 hover:text-brand transition-colors"},{default:m(()=>[...r[1]||(r[1]=[g(" fp ",-1)])]),_:1}),n("nav",nt,[u(s,{to:"/countries",class:"px-3 py-1.5 text-sm text-ink-secondary dark:text-neutral-400 hover:text-ink dark:hover:text-neutral-100 rounded-lg hover:bg-ink/5 dark:hover:bg-white/5 transition-all duration-200"},{default:m(()=>[...r[2]||(r[2]=[g(" countries ",-1)])]),_:1}),u(s,{to:"/genres",class:"px-3 py-1.5 text-sm text-ink-secondary dark:text-neutral-400 hover:text-ink dark:hover:text-neutral-100 rounded-lg hover:bg-ink/5 dark:hover:bg-white/5 transition-all duration-200"},{default:m(()=>[...r[3]||(r[3]=[g(" genres ",-1)])]),_:1}),u(s,{to:"/favorites",class:"ml-1 p-2 rounded-lg text-ink-secondary dark:text-neutral-400 hover:text-brand hover:bg-brand/5 transition-all duration-200"},{default:m(()=>[...r[4]||(r[4]=[n("i",{class:"pi pi-bookmark-fill text-sm"},null,-1)])]),_:1}),n("button",{onClick:r[0]||(r[0]=w=>e(t).toggle()),class:"p-2 rounded-lg text-ink-secondary dark:text-neutral-400 hover:text-brand hover:bg-brand/5 transition-all duration-200"},[...r[5]||(r[5]=[n("i",{class:"pi pi-moon text-sm"},null,-1)])])])]),n("main",rt,[F(l.$slots,"default")]),u(o),u(c)])}}});export{ut as default};
