import{_ as B}from"./DVklbmSD.js";import{_ as N}from"./T5tQt0lw.js";import{u as E}from"./Bkqv1XTR.js";import{u as L,r as S,a as A}from"./DutgNUyE.js";import{u as D}from"./D4-OL4YQ.js";import{d as M,w as R,c as a,b as e,k as n,x as m,F as p,r as V,q,o,s as H,t as x,i as _,e as I}from"./BzoQ1CSS.js";function K(){return L("countries",async()=>(await S("/countries")).filter(t=>t.stationcount>0).map(A).sort((t,i)=>t.name.localeCompare(i.name)))}const P={class:"px-6 py-8 max-w-6xl mx-auto"},T={key:1,class:"text-center py-16"},U={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3"},$={class:"text-sm font-medium text-ink dark:text-neutral-200 group-hover:text-brand transition-colors"},j={class:"block mt-1 text-xs text-ink-muted dark:text-neutral-500"},k=40,X=M({__name:"countries",async setup(f){let t,i;E({title:"Countries",description:"Explore radio stations by country. Find internet radio from every corner of the world.",path:"/countries"});const{data:c,pending:y,error:b,refresh:u}=([t,i]=R(()=>K()),t=await t,i(),t),l=I(k),h=_(()=>(c.value||[]).slice(0,l.value)),v=_(()=>{var d;return l.value<(((d=c.value)==null?void 0:d.length)||0)});function g(){l.value+=k}const{sentinelRef:C}=D(g);return(d,r)=>{const w=B,F=N;return o(),a("div",P,[r[2]||(r[2]=e("div",{class:"mb-8"},[e("h1",{class:"font-display text-3xl italic text-ink dark:text-neutral-50"}," Countries "),e("p",{class:"mt-2 text-sm text-ink-muted dark:text-neutral-500"}," Explore radio stations by country ")],-1)),n(y)?(o(),m(w,{key:0})):n(b)?(o(),a("div",T,[r[1]||(r[1]=e("p",{class:"text-ink-muted dark:text-neutral-500 text-sm"},"Failed to load countries.",-1)),e("button",{onClick:r[0]||(r[0]=(...s)=>n(u)&&n(u)(...s)),class:"mt-4 text-sm text-brand hover:text-brand-dark transition-colors"}," Try again ")])):(o(),a(p,{key:2},[e("div",U,[(o(!0),a(p,null,V(n(h),s=>(o(),m(F,{key:s.code,to:`/country/${s.code}`,class:"group p-4 rounded-2xl bg-white dark:bg-night-elevated border border-ink/5 dark:border-white/5 hover:border-brand/20 dark:hover:border-brand/20 transition-all duration-300"},{default:H(()=>[e("span",$,x(s.name),1),e("span",j,x(s.count)+" stations ",1)]),_:2},1032,["to"]))),128))]),n(v)?(o(),a("div",{key:0,ref_key:"sentinelRef",ref:C,class:"h-1"},null,512)):q("",!0)],64))])}}});export{X as default};
