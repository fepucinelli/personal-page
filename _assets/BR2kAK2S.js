import{u as B,r as N,a as E,_ as L}from"./BN_2wKIK.js";import{_ as S}from"./Df56fhoC.js";import{u as A}from"./MzLhcaTF.js";import{u as D}from"./BEeTV4nX.js";import{d as M,w as R,c as a,a as e,h as s,k as m,F as p,r as V,i as q,o,l as H,t as x,q as _,m as I}from"./DPxjnCvZ.js";function K(){return B("countries",async()=>(await N("/countries")).filter(t=>t.stationcount>0).map(E).sort((t,i)=>t.name.localeCompare(i.name)))}const P={class:"px-6 py-8 max-w-6xl mx-auto"},T={key:1,class:"text-center py-16"},U={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3"},$={class:"text-sm font-medium text-ink dark:text-neutral-200 group-hover:text-brand transition-colors"},j={class:"block mt-1 text-xs text-ink-muted dark:text-neutral-500"},k=40,W=M({__name:"countries",async setup(f){let t,i;A({title:"Countries",description:"Explore radio stations by country. Find internet radio from every corner of the world.",path:"/countries"});const{data:c,pending:y,error:b,refresh:u}=([t,i]=R(()=>K()),t=await t,i(),t),l=I(k),h=_(()=>(c.value||[]).slice(0,l.value)),v=_(()=>{var d;return l.value<(((d=c.value)==null?void 0:d.length)||0)});function g(){l.value+=k}const{sentinelRef:C}=D(g);return(d,r)=>{const w=L,F=S;return o(),a("div",P,[r[2]||(r[2]=e("div",{class:"mb-8"},[e("h1",{class:"font-display text-3xl italic text-ink dark:text-neutral-50"}," Countries "),e("p",{class:"mt-2 text-sm text-ink-muted dark:text-neutral-500"}," Explore radio stations by country ")],-1)),s(y)?(o(),m(w,{key:0})):s(b)?(o(),a("div",T,[r[1]||(r[1]=e("p",{class:"text-ink-muted dark:text-neutral-500 text-sm"},"Failed to load countries.",-1)),e("button",{onClick:r[0]||(r[0]=(...n)=>s(u)&&s(u)(...n)),class:"mt-4 text-sm text-brand hover:text-brand-dark transition-colors"}," Try again ")])):(o(),a(p,{key:2},[e("div",U,[(o(!0),a(p,null,V(s(h),n=>(o(),m(F,{key:n.code,to:`/country/${n.code}`,class:"group p-4 rounded-2xl bg-white dark:bg-night-elevated border border-ink/5 dark:border-white/5 hover:border-brand/20 dark:hover:border-brand/20 transition-all duration-300"},{default:H(()=>[e("span",$,x(n.name),1),e("span",j,x(n.count)+" stations ",1)]),_:2},1032,["to"]))),128))]),s(v)?(o(),a("div",{key:0,ref_key:"sentinelRef",ref:C,class:"h-1"},null,512)):q("",!0)],64))])}}});export{W as default};
