import{d as U,f as F,Y as H,K as $,c as L,N as b,Z as z,_ as T,E as G,$ as y,a0 as q,v as I,a1 as W,s as Y,a2 as Z,q as S,l as J,a3 as Q,a4 as X,g as p,a5 as x,a6 as K,a7 as k}from"./DmDaLEUV.js";const A={trailing:!0};function aa(a,e=25,s={}){if(s={...A,...s},!Number.isFinite(e))throw new TypeError("Expected `wait` to be a finite number");let c,t,l=[],n,D;const f=(d,u)=>(n=ea(a,d,u),n.finally(()=>{if(n=null,s.trailing&&D&&!t){const h=f(d,D);return D=null,h}}),n);return function(...d){return n?(s.trailing&&(D=d),n):new Promise(u=>{const h=!t&&s.leading;clearTimeout(t),t=setTimeout(()=>{t=null;const o=s.leading?c:f(this,d);for(const v of l)v(o);l=[]},e),h?(c=f(this,d),u(c)):l.push(u)})}}async function ea(a,e,s){return await a.apply(e,s)}const B=Symbol.for("nuxt:client-only"),ua=U({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(a,{slots:e,attrs:s}){const c=b(!1);F(()=>{c.value=!0});const t=T();return t&&(t._nuxtClientOnly=!0),z(B,!0),()=>{var f;if(c.value){const d=(f=e.default)==null?void 0:f.call(e);return d&&d.length===1?[H(d[0],s)]:d}const l=e.fallback||e.placeholder;if(l)return $(l);const n=a.fallback||a.placeholder||"",D=a.fallbackTag||a.placeholderTag||"span";return L(D,s,n)}}}),ta=a=>a==="defer"||a===!1;function ia(...a){var v;const e=typeof a[a.length-1]=="string"?a.pop():void 0;na(a[0],a[1])&&a.unshift(e);let[s,c,t={}]=a;const l=S(()=>k(s));if(typeof l.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof c!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const n=G();t.server??(t.server=!0),t.default??(t.default=sa),t.getCachedData??(t.getCachedData=R),t.lazy??(t.lazy=!1),t.immediate??(t.immediate=!0),t.deep??(t.deep=y.deep),t.dedupe??(t.dedupe="cancel"),t._functionName,n._asyncData[l.value];const D={cause:"initial",dedupe:t.dedupe};(v=n._asyncData[l.value])!=null&&v._init||(D.cachedData=t.getCachedData(l.value,n,{cause:"initial"}),n._asyncData[l.value]=O(n,l.value,c,t,D.cachedData));const f=n._asyncData[l.value];f._deps++;const d=()=>n._asyncData[l.value].execute(D),u=t.server!==!1&&n.payload.serverRendered;{let r=function(_){const m=n._asyncData[_];m!=null&&m._deps&&(m._deps--,m._deps===0&&(m==null||m._off()))};const i=T();if(i&&u&&t.immediate&&!i.sp&&(i.sp=[]),i&&!i._nuxtOnBeforeMountCbs){i._nuxtOnBeforeMountCbs=[];const _=i._nuxtOnBeforeMountCbs;q(()=>{_.forEach(m=>{m()}),_.splice(0,_.length)}),I(()=>_.splice(0,_.length))}const C=i&&(i._nuxtClientOnly||W(B,!1));u&&n.isHydrating&&(f.error.value||f.data.value!=null)?(f.pending.value=!1,f.status.value=f.error.value?"error":"success"):i&&(!C&&n.payload.serverRendered&&n.isHydrating||t.lazy)&&t.immediate?i._nuxtOnBeforeMountCbs.push(d):t.immediate&&d();const V=K(),j=Y([l,...t.watch||[]],([_],[m])=>{var w,E;if((_||m)&&_!==m){const M=((w=n._asyncData[m])==null?void 0:w.data.value)!==y.value;m&&r(m);const P={cause:"initial",dedupe:t.dedupe};(E=n._asyncData[_])!=null&&E._init||(P.cachedData=t.getCachedData(_,n,{cause:"initial"}),n._asyncData[_]=O(n,_,c,t,P.cachedData)),n._asyncData[_]._deps++,(t.immediate||M)&&n._asyncData[_].execute(P)}else f._execute({cause:"watch",dedupe:t.dedupe})},{flush:"sync"});V&&Z(()=>{j(),r(l.value)})}const h={data:g(()=>{var r;return(r=n._asyncData[l.value])==null?void 0:r.data}),pending:g(()=>{var r;return(r=n._asyncData[l.value])==null?void 0:r.pending}),status:g(()=>{var r;return(r=n._asyncData[l.value])==null?void 0:r.status}),error:g(()=>{var r;return(r=n._asyncData[l.value])==null?void 0:r.error}),refresh:(...r)=>n._asyncData[l.value].execute(...r),execute:(...r)=>n._asyncData[l.value].execute(...r),clear:()=>N(n,l.value)},o=Promise.resolve(n._asyncDataPromises[l.value]).then(()=>h);return Object.assign(o,h),o}function g(a){return S({get(){var e;return(e=a())==null?void 0:e.value},set(e){const s=a();s&&(s.value=e)}})}function na(a,e){return!(typeof a=="string"||typeof a=="object"&&a!==null||typeof a=="function"&&typeof e=="function")}function N(a,e){e in a.payload.data&&(a.payload.data[e]=void 0),e in a.payload._errors&&(a.payload._errors[e]=y.errorValue),a._asyncData[e]&&(a._asyncData[e].data.value=void 0,a._asyncData[e].error.value=y.errorValue,a._asyncData[e].pending.value=!1,a._asyncData[e].status.value="idle"),e in a._asyncDataPromises&&(a._asyncDataPromises[e]&&(a._asyncDataPromises[e].cancelled=!0),a._asyncDataPromises[e]=void 0)}function ra(a,e){const s={};for(const c of e)s[c]=a[c];return s}function O(a,e,s,c,t){var h;(h=a.payload._errors)[e]??(h[e]=y.errorValue);const l=c.getCachedData!==R,n=s,D=c.deep?J:b,f=t!=null,d=a.hook("app:data:refresh",async o=>{(!o||o.includes(e))&&await u.execute({cause:"refresh:hook"})}),u={data:D(f?t:c.default()),pending:b(!f),error:x(a.payload._errors,e),status:b("idle"),execute:(o={})=>{if(a._asyncDataPromises[e]){if(ta(o.dedupe??c.dedupe))return a._asyncDataPromises[e];a._asyncDataPromises[e].cancelled=!0}if(o.cause==="initial"||a.isHydrating){const r="cachedData"in o?o.cachedData:c.getCachedData(e,a,{cause:o.cause??"refresh:manual"});if(r!=null)return a.payload.data[e]=u.data.value=r,u.error.value=y.errorValue,u.status.value="success",Promise.resolve(r)}u.pending.value=!0,u.status.value="pending";const v=new Promise((r,i)=>{try{r(n(a))}catch(C){i(C)}}).then(async r=>{if(v.cancelled)return a._asyncDataPromises[e];let i=r;c.transform&&(i=await c.transform(r)),c.pick&&(i=ra(i,c.pick)),a.payload.data[e]=i,u.data.value=i,u.error.value=y.errorValue,u.status.value="success"}).catch(r=>{if(v.cancelled)return a._asyncDataPromises[e];u.error.value=X(r),u.data.value=p(c.default()),u.status.value="error"}).finally(()=>{v.cancelled||(u.pending.value=!1,delete a._asyncDataPromises[e])});return a._asyncDataPromises[e]=v,a._asyncDataPromises[e]},_execute:aa((...o)=>u.execute(...o),0,{leading:!0}),_default:c.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{var o;d(),(o=a._asyncData[e])!=null&&o._init&&(a._asyncData[e]._init=!1),l||Q(()=>{var v;(v=a._asyncData[e])!=null&&v._init||(N(a,e),u.execute=()=>Promise.resolve(),u.data.value=y.value)})}};return u}const sa=()=>y.value,R=(a,e,s)=>{if(e.isHydrating)return e.payload.data[a];if(s.cause!=="refresh:manual"&&s.cause!=="refresh:hook")return e.static.data[a]},ca="https://de1.api.radio-browser.info/json";function oa(a,e){const s=new URL(`${ca}${a}`);if(e)for(const[c,t]of Object.entries(e))s.searchParams.set(c,t);return $fetch(s.toString())}function fa(a){return{id:a.stationuuid,name:a.name,streamUrl:a.url_resolved,favicon:a.favicon||null,country:a.country,countryCode:a.countrycode,tags:a.tags?a.tags.split(","):[],bitrate:a.bitrate,codec:a.codec,popularity:a.clickcount,isPlayable:!0}}function da(a){return{code:a.iso_3166_1,name:a.name,count:a.stationcount}}function _a(a){return{slug:a.name,count:a.stationcount}}export{ua as _,da as a,fa as b,_a as m,oa as r,ia as u};
