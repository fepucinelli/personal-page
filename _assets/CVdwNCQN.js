import{u as F,r as G,m as N,_ as L}from"./BN_2wKIK.js";import{_ as S}from"./Df56fhoC.js";import{u as z}from"./MzLhcaTF.js";import{u as A}from"./BEeTV4nX.js";import{d as D,w as M,c as a,a as e,h as o,k as m,F as p,r as R,i as V,o as s,l as j,t as x,q as _,m as q}from"./DPxjnCvZ.js";function E(){return F("genres",async()=>(await G("/tags")).filter(t=>t.stationcount>20).map(N).sort((t,i)=>i.count-t.count))}const H={class:"px-6 py-8 max-w-6xl mx-auto"},I={key:1,class:"text-center py-16"},K={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3"},P={class:"text-sm font-medium text-ink dark:text-neutral-200 group-hover:text-brand transition-colors"},T={class:"block mt-1 text-xs text-ink-muted dark:text-neutral-500"},k=40,W=D({__name:"genres",async setup(g){let t,i;z({title:"Genres",description:"Browse radio stations by music genre. Find your favorite style of music from jazz to electronic, rock, pop, and more.",path:"/genres"});const{data:c,pending:f,error:b,refresh:u}=([t,i]=M(()=>E()),t=await t,i(),t),l=q(k),y=_(()=>(c.value||[]).slice(0,l.value)),h=_(()=>{var d;return l.value<(((d=c.value)==null?void 0:d.length)||0)});function v(){l.value+=k}const{sentinelRef:w}=A(v);return(d,r)=>{const C=L,B=S;return s(),a("div",H,[r[2]||(r[2]=e("div",{class:"mb-8"},[e("h1",{class:"font-display text-3xl italic text-ink dark:text-neutral-50"}," Genres "),e("p",{class:"mt-2 text-sm text-ink-muted dark:text-neutral-500"}," Browse stations by music genre ")],-1)),o(f)?(s(),m(C,{key:0})):o(b)?(s(),a("div",I,[r[1]||(r[1]=e("p",{class:"text-ink-muted dark:text-neutral-500 text-sm"},"Failed to load genres.",-1)),e("button",{onClick:r[0]||(r[0]=(...n)=>o(u)&&o(u)(...n)),class:"mt-4 text-sm text-brand hover:text-brand-dark transition-colors"}," Try again ")])):(s(),a(p,{key:2},[e("div",K,[(s(!0),a(p,null,R(o(y),n=>(s(),m(B,{key:n.slug,to:`/genre/${n.slug}`,class:"group p-4 rounded-2xl bg-white dark:bg-night-elevated border border-ink/5 dark:border-white/5 hover:border-brand/20 dark:hover:border-brand/20 transition-all duration-300"},{default:j(()=>[e("span",P,x(n.slug),1),e("span",T,x(n.count)+" stations ",1)]),_:2},1032,["to"]))),128))]),o(h)?(s(),a("div",{key:0,ref_key:"sentinelRef",ref:w,class:"h-1"},null,512)):V("",!0)],64))])}}});export{W as default};
