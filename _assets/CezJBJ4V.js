import{_ as V}from"./C8H71s-1.js";import{a as B,u as z,b as L}from"./D4AmtDaR.js";import{f as D}from"./C3LEje0s.js";import{d as w,k as e,o as x,c as k,b as a,n as p,t as _,q as y,B as E,i as I,C as P,e as S,x as M,s as m,T as j,D as A,z as R,p as d,l as g,E as q}from"./Byx0oG76.js";import{u as O}from"./Dhb2WsiX.js";import"./Cxtq0J62.js";const G={key:0,class:"fixed bottom-0 inset-x-0 z-50 h-[72px] px-6 gap-5 flex items-center backdrop-blur-xl bg-white/90 dark:bg-night-surface/90 border-t border-ink/5 dark:border-white/5"},H=["aria-label"],J={class:"flex-1 min-w-0"},K=["title"],Q={class:"text-xs text-ink-muted dark:text-neutral-500 tracking-wide uppercase mt-0.5"},U=["title","aria-label"],W={class:"hidden sm:flex items-center gap-3 flex-shrink-0"},X=["value"],Y=w({__name:"PlayerBar",setup(n){const t=B(),u=z(),o=L(),h=()=>{t.toggle()},l=c=>{t.setVolume(Number(c.target.value))},r=I(()=>t.volume*100);let s=!1;return t.onError(async()=>{if(!s){s=!0;try{const c=Math.floor(Math.random()*500),f=(await D({offset:c,limit:10})).find(N=>{var $;return N.id!==(($=t.currentStation)==null?void 0:$.id)});f&&await t.play(f)}finally{s=!1}}}),(c,i)=>e(t).currentStation?(x(),k("div",G,[a("button",{onClick:h,"aria-label":e(t).isPlaying?"Pause":"Play",class:p(["flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300",{"bg-brand/10 text-brand animate-pulse-glow":e(t).isPlaying,"bg-ink/5 dark:bg-white/5 text-ink-secondary dark:text-neutral-400 hover:bg-brand/10 hover:text-brand":!e(t).isPlaying}])},[a("i",{class:p(["pi text-lg",{"pi-spin pi-spinner text-ink-muted dark:text-neutral-500":e(t).isLoading,"pi-pause":!e(t).isLoading&&e(t).isPlaying,"pi-play":!e(t).isLoading&&!e(t).isPlaying}])},null,2)],10,H),a("div",J,[a("div",{class:"font-medium text-sm truncate text-ink dark:text-neutral-100",title:e(t).currentStation.name},_(e(t).currentStation.name),9,K),a("div",Q,_(e(t).currentStation.country),1)]),e(u).isSystemFavorite(e(t).currentStation.id)?y("",!0):(x(),k("button",{key:0,onClick:i[0]||(i[0]=f=>e(o).toggleFavorite(e(t).currentStation)),class:"flex-shrink-0 p-2 rounded-full text-ink-secondary dark:text-neutral-400 hover:text-brand hover:bg-brand/5 transition-all duration-200",title:e(o).isFavorite(e(t).currentStation)?"Remove from favorites":"Add to favorites","aria-label":e(o).isFavorite(e(t).currentStation)?"Remove from favorites":"Add to favorites"},[a("i",{class:p(["pi text-sm",e(o).isFavorite(e(t).currentStation)?"pi-star-fill text-brand":"pi-star"])},null,2)],8,U)),a("div",W,[i[1]||(i[1]=a("i",{class:"pi pi-volume-down text-xs text-ink-muted dark:text-neutral-500"},null,-1)),a("input",{type:"range",min:"0",max:"1",step:"0.01",class:"range-slider w-24",value:e(t).volume,onInput:l,style:E({background:`linear-gradient(
            to right,
            #c493ff ${e(r)}%,
            rgba(58, 53, 48, 0.2) ${e(r)}%
          )`})},null,44,X),i[2]||(i[2]=a("i",{class:"pi pi-volume-up text-xs text-ink-muted dark:text-neutral-500"},null,-1))])])):y("",!0)}}),T=S(""),b=S(!1);let v=null;function F(){function n(t,u=3e3){v&&clearTimeout(v),T.value=t,b.value=!0,v=setTimeout(()=>{b.value=!1},u)}return{message:P(T),visible:P(b),show:n}}const Z={key:0,class:"fixed bottom-20 left-0 right-0 z-[55] flex justify-center pointer-events-none"},tt={class:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full backdrop-blur-xl bg-surface-light/90 dark:bg-night/90 border border-brand/20 shadow-lg shadow-brand/10 text-sm text-ink dark:text-neutral-200"},et=w({__name:"Toast",setup(n){const t=F();return(u,o)=>(x(),M(j,{name:"toast"},{default:m(()=>[e(t).visible.value?(x(),k("div",Z,[a("div",tt,[o[0]||(o[0]=a("i",{class:"pi pi-volume-up text-brand text-xs"},null,-1)),a("span",null,_(e(t).message.value),1)])])):y("",!0)]),_:1}))}});function at(){const n=localStorage.getItem("theme");return n||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}function C(n){document.documentElement.classList.toggle("dark",n==="dark")}const rt=A("theme",()=>{const n=S(at());C(n.value);function t(){n.value=n.value==="dark"?"light":"dark",localStorage.setItem("theme",n.value),C(n.value)}return{theme:n,toggle:t}}),nt={class:"min-h-screen flex flex-col"},ot={class:"fixed top-0 left-0 right-0 z-50 h-14 px-6 flex items-center justify-between backdrop-blur-xl bg-surface-light/80 dark:bg-night/80 border-b border-ink/5 dark:border-white/5"},st={class:"flex items-center gap-1"},it=["aria-checked","aria-label"],lt={class:"theme-toggle__knob"},dt={class:"flex-1 pt-14 pb-24"},gt=w({__name:"default",setup(n){const t=rt(),u=B(),o=O(),h=F();return R(()=>u.currentStation,(l,r)=>{l&&(o.addStation(l),r&&h.show(`Now playing: ${l.name}`))}),(l,r)=>{const s=V,c=Y,i=et;return x(),k("div",nt,[a("header",ot,[d(s,{to:"/",class:"font-display text-xl italic text-ink dark:text-neutral-100 hover:text-brand transition-colors"},{default:m(()=>[...r[1]||(r[1]=[g(" fp ",-1)])]),_:1}),a("nav",st,[d(s,{to:"/countries",class:"px-3 py-1.5 text-sm text-ink-secondary dark:text-neutral-400 hover:text-ink dark:hover:text-neutral-100 rounded-lg hover:bg-ink/5 dark:hover:bg-white/5 transition-all duration-200"},{default:m(()=>[...r[2]||(r[2]=[g(" countries ",-1)])]),_:1}),d(s,{to:"/genres",class:"px-3 py-1.5 text-sm text-ink-secondary dark:text-neutral-400 hover:text-ink dark:hover:text-neutral-100 rounded-lg hover:bg-ink/5 dark:hover:bg-white/5 transition-all duration-200"},{default:m(()=>[...r[3]||(r[3]=[g(" genres ",-1)])]),_:1}),d(s,{to:"/about",class:"px-3 py-1.5 text-sm text-ink-secondary dark:text-neutral-400 hover:text-ink dark:hover:text-neutral-100 rounded-lg hover:bg-ink/5 dark:hover:bg-white/5 transition-all duration-200"},{default:m(()=>[...r[4]||(r[4]=[g(" about ",-1)])]),_:1}),d(s,{to:"/favorites","aria-label":"Favorites",class:"ml-1 p-2 rounded-lg text-ink-secondary dark:text-neutral-400 hover:text-brand hover:bg-brand/5 transition-all duration-200"},{default:m(()=>[...r[5]||(r[5]=[a("i",{class:"pi pi-bookmark-fill text-sm"},null,-1)])]),_:1}),a("button",{onClick:r[0]||(r[0]=f=>e(t).toggle()),role:"switch","aria-checked":e(t).theme==="dark","aria-label":e(t).theme==="dark"?"Switch to light mode":"Switch to dark mode",class:p(["theme-toggle ml-1",e(t).theme==="dark"?"theme-toggle--dark":"theme-toggle--light"])},[a("span",lt,[a("i",{class:p([e(t).theme==="dark"?"pi pi-moon":"pi pi-sun","theme-toggle__icon"])},null,2)])],10,it)])]),a("main",dt,[q(l.$slots,"default")]),d(c),d(i)])}}});export{gt as default};
