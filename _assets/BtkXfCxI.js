import{_ as F}from"./B_SKeRJq.js";import{_ as G}from"./rsx_jxBI.js";import{u as N}from"./XflICANt.js";import{u as L,r as S,m as j}from"./BfEQmpDi.js";import{u as z}from"./CbCbQeWn.js";import{d as A,w as D,c as a,a as e,f as o,j as m,F as p,r as M,h as R,o as s,k as V,t as x,m as _,l as E}from"./5feOgYAS.js";function H(){return L("genres",async()=>(await S("/tags")).filter(t=>t.stationcount>20).map(j).sort((t,i)=>i.count-t.count))}const I={class:"px-6 py-8 max-w-6xl mx-auto"},K={key:1,class:"text-center py-16"},P={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3"},T={class:"text-sm font-medium text-ink dark:text-neutral-200 group-hover:text-brand transition-colors"},U={class:"block mt-1 text-xs text-ink-muted dark:text-neutral-500"},k=40,X=A({__name:"genres",async setup(f){let t,i;N({title:"Genres",description:"Browse radio stations by music genre. Find your favorite style of music from jazz to electronic, rock, pop, and more.",path:"/genres"});const{data:c,pending:g,error:b,refresh:u}=([t,i]=D(()=>H()),t=await t,i(),t),l=E(k),y=_(()=>(c.value||[]).slice(0,l.value)),h=_(()=>{var d;return l.value<(((d=c.value)==null?void 0:d.length)||0)});function v(){l.value+=k}const{sentinelRef:w}=z(v);return(d,r)=>{const C=F,B=G;return s(),a("div",I,[r[2]||(r[2]=e("div",{class:"mb-8"},[e("h1",{class:"font-display text-3xl italic text-ink dark:text-neutral-50"}," Genres "),e("p",{class:"mt-2 text-sm text-ink-muted dark:text-neutral-500"}," Browse stations by music genre ")],-1)),o(g)?(s(),m(C,{key:0})):o(b)?(s(),a("div",K,[r[1]||(r[1]=e("p",{class:"text-ink-muted dark:text-neutral-500 text-sm"},"Failed to load genres.",-1)),e("button",{onClick:r[0]||(r[0]=(...n)=>o(u)&&o(u)(...n)),class:"mt-4 text-sm text-brand hover:text-brand-dark transition-colors"}," Try again ")])):(s(),a(p,{key:2},[e("div",P,[(s(!0),a(p,null,M(o(y),n=>(s(),m(B,{key:n.slug,to:`/genre/${n.slug}`,class:"group p-4 rounded-2xl bg-white dark:bg-night-elevated border border-ink/5 dark:border-white/5 hover:border-brand/20 dark:hover:border-brand/20 transition-all duration-300"},{default:V(()=>[e("span",T,x(n.slug),1),e("span",U,x(n.count)+" stations ",1)]),_:2},1032,["to"]))),128))]),o(h)?(s(),a("div",{key:0,ref_key:"sentinelRef",ref:w,class:"h-1"},null,512)):R("",!0)],64))])}}});export{X as default};
